<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg" 
     style="max-width: 100%; height: auto;">
  
  <defs>
    <style>
      .bg { fill: var(--svg-bg, #ffffff); }
      .bg-alt { fill: var(--svg-bg-alt, #f8fafc); }
      .text { fill: var(--svg-text, #1a1a1a); font-family: 'Inter', 'Helvetica Neue', Arial, sans-serif; }
      .text-sm { font-size: 12px; }
      .text-md { font-size: 14px; font-weight: 500; }
      .text-lg { font-size: 16px; font-weight: 600; }
      .border { stroke: var(--svg-border, #d1d5db); fill: none; stroke-width: 1; }
      .primary { fill: var(--svg-primary, #3b82f6); }
      .primary-stroke { stroke: var(--svg-primary, #3b82f6); stroke-width: 2; }
      .success { fill: var(--svg-success, #10b981); }
      .warning { fill: var(--svg-warning, #f59e0b); }
      .step-box { fill: var(--svg-bg-alt, #f8fafc); stroke: var(--svg-primary, #3b82f6); stroke-width: 2; rx: 4; }
      .code-box { fill: var(--svg-bg, #ffffff); stroke: var(--svg-border, #d1d5db); stroke-width: 1; rx: 4; }
      .mono { font-family: 'SF Mono', 'Monaco', 'Consolas', monospace; font-size: 11px; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="3" 
            markerWidth="6" markerHeight="6" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" class="primary"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="100%" height="100%" class="bg"/>
  
  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" class="text text-lg">問題解決の思考プロセス（詳細版）</text>
  
  <!-- Step 1: Problem Understanding -->
  <g class="step1">
    <!-- Step label -->
    <text x="80" y="75" class="text text-md primary">📋 Step 1: 問題を理解する</text>
    
    <!-- Content box -->
    <rect x="50" y="85" width="320" height="140" class="step-box"/>
    
    <!-- Content text -->
    <text x="70" y="110" class="text text-sm">入力：1から100までの数</text>
    <text x="70" y="130" class="text text-sm">条件：3で割り切れる数のみ選ぶ</text>
    <text x="70" y="150" class="text text-sm">出力：選んだ数の合計</text>
    
    <text x="70" y="180" class="text text-sm">具体例：3, 6, 9, 12, ..., 96, 99</text>
    <text x="70" y="200" class="text text-sm">↓</text>
    <text x="70" y="220" class="text text-sm success">これらを全部足した値を求めればいい！</text>
  </g>
  
  <!-- Step 2: Solution Planning -->
  <g class="step2">
    <!-- Step label -->
    <text x="480" y="75" class="text text-md primary">💡 Step 2: 解法を考える</text>
    
    <!-- Content box -->
    <rect x="430" y="85" width="320" height="140" class="step-box"/>
    
    <!-- Content text -->
    <text x="450" y="110" class="text text-sm">🔍 方法1: 全部チェック</text>
    <text x="450" y="130" class="text text-sm">1から100まで順番に見て、3で割り切れるかチェック</text>
    
    <text x="450" y="160" class="text text-sm">🧮 方法2: 数学的に計算</text>
    <text x="450" y="180" class="text text-sm mono">3, 6, 9, ... 99 = 3×(1+2+3+...+33)</text>
    
    <text x="450" y="210" class="text text-sm warning">💭 どちらでも正解！まずは方法1で実装してみよう</text>
  </g>
  
  <!-- Step 3: Implementation -->
  <g class="step3">
    <!-- Step label -->
    <text x="280" y="280" class="text text-md primary">⌨️ Step 3: プログラムで実現</text>
    
    <!-- Content box -->
    <rect x="150" y="290" width="500" height="180" class="step-box"/>
    
    <!-- Code content -->
    <text x="170" y="320" class="text mono">total = 0</text>
    <text x="170" y="340" class="text mono">for i in range(1, 101):</text>
    <text x="190" y="360" class="text mono">if i % 3 == 0:  # 3で割り切れるか？</text>
    <text x="210" y="380" class="text mono">total += i  # 合計に足す</text>
    <text x="170" y="400" class="text mono">print(total)        # 答えを出力</text>
    
    <text x="170" y="430" class="text text-sm">実行結果: 1683</text>
    <text x="170" y="450" class="text text-sm success">✅ 正解！</text>
  </g>
  
  <!-- Connecting arrows -->
  <line x1="370" y1="155" x2="430" y2="155" class="primary-stroke" marker-end="url(#arrow)"/>
  <line x1="400" y1="225" x2="400" y2="290" class="primary-stroke" marker-end="url(#arrow)"/>
  
  <!-- Accessibility -->
  <title>問題解決の思考プロセス</title>
  <desc>競技プログラミングにおける問題解決の3段階プロセス：問題理解、解法検討、実装の流れを示す図表</desc>
</svg>