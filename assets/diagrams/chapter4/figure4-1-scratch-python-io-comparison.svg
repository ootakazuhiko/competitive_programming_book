<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <title>図4-1：ScratchとPythonの入出力対比</title>
  <desc>ScratchとPythonにおける入出力処理の方法とその共通概念を比較して示す図</desc>
  
  <defs>
    <style>
      .title { font: 600 16px Inter, sans-serif; fill: #1F2937; }
      .section-title { font: 600 14px Inter, sans-serif; fill: #374151; }
      .code-text { font: 500 12px 'Monaco', 'Menlo', monospace; fill: #4B5563; }
      .block-text { font: 500 12px Inter, sans-serif; fill: #4B5563; }
      .comparison-text { font: 400 11px Inter, sans-serif; fill: #6B7280; }
      .insight-text { font: 600 12px Inter, sans-serif; }
      .emoji { font: 400 18px Inter, sans-serif; }
      
      .scratch-section { fill: #FEF3C7; stroke: #F59E0B; stroke-width: 2; }
      .python-section { fill: #DBEAFE; stroke: #3B82F6; stroke-width: 2; }
      .scratch-block { fill: #FF6B6B; stroke: #E53E3E; stroke-width: 2; rx: 8; }
      .python-code { fill: #F8FAFC; stroke: #CBD5E0; stroke-width: 1; }
      .insight-box { fill: #ECFDF5; stroke: #22C55E; stroke-width: 2; }
      .arrow { stroke: #10B981; stroke-width: 3; fill: none; }
    </style>
    
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="3" orient="auto">
      <path d="M0,0 L0,6 L12,3 z" fill="#10B981"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#FFFFFF"/>
  
  <!-- Title -->
  <text x="400" y="32" text-anchor="middle" class="title">図4-1：ScratchとPythonの入出力対比</text>
  
  <!-- Scratch Section -->
  <g id="scratch-section">
    <rect x="50" y="70" width="300" height="280" rx="12" class="scratch-section"/>
    <text x="70" y="95" class="emoji">🎮</text>
    <text x="100" y="95" class="section-title" fill="#D97706">Scratchでの入出力</text>
    
    <!-- Input Block -->
    <g transform="translate(70, 110)">
      <rect x="0" y="0" width="250" height="40" class="scratch-block"/>
      <text x="10" y="15" style="font: 600 12px Inter, sans-serif; fill: #FFFFFF;">👤 「名前は？」と聞く</text>
      <text x="10" y="30" style="font: 400 10px Inter, sans-serif; fill: #FFFFFF;">ask "名前は？" and wait</text>
    </g>
    
    <!-- Arrow down -->
    <path d="M195 160 L195 180" class="arrow" marker-end="url(#arrow)"/>
    
    <!-- Store Block -->
    <g transform="translate(70, 190)">
      <rect x="0" y="0" width="250" height="40" class="scratch-block"/>
      <text x="10" y="15" style="font: 600 12px Inter, sans-serif; fill: #FFFFFF;">📝 答えを変数に保存</text>
      <text x="10" y="30" style="font: 400 10px Inter, sans-serif; fill: #FFFFFF;">set [name] to (answer)</text>
    </g>
    
    <!-- Arrow down -->
    <path d="M195 240 L195 260" class="arrow" marker-end="url(#arrow)"/>
    
    <!-- Output Block -->
    <g transform="translate(70, 270)">
      <rect x="0" y="0" width="250" height="40" class="scratch-block"/>
      <text x="10" y="15" style="font: 600 12px Inter, sans-serif; fill: #FFFFFF;">💬 「こんにちは○○」と言う</text>
      <text x="10" y="30" style="font: 400 10px Inter, sans-serif; fill: #FFFFFF;">say (join "こんにちは" (name))</text>
    </g>
    
    <!-- Visual Example -->
    <g transform="translate(70, 320)">
      <rect x="0" y="0" width="250" height="20" rx="10" fill="#FCD34D"/>
      <text x="125" y="15" text-anchor="middle" style="font: 600 11px Inter, sans-serif; fill: #92400E;">
        視覚的・対話型プログラミング
      </text>
    </g>
  </g>
  
  <!-- Bidirectional Arrow -->
  <g transform="translate(370, 210)">
    <path d="M0 0 L50 0" stroke="#10B981" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
    <path d="M50 0 L0 0" stroke="#10B981" stroke-width="4" fill="none" marker-end="url(#arrow)"/>
    <text x="25" y="-10" text-anchor="middle" style="font: 600 12px Inter, sans-serif; fill: #10B981;">⟷</text>
  </g>
  
  <!-- Python Section -->
  <g id="python-section">
    <rect x="450" y="70" width="300" height="280" rx="12" class="python-section"/>
    <text x="470" y="95" class="emoji">💻</text>
    <text x="500" y="95" class="section-title" fill="#1E40AF">Pythonでの入出力</text>
    
    <!-- Input Code -->
    <g transform="translate(470, 110)">
      <rect x="0" y="0" width="260" height="40" class="python-code"/>
      <text x="10" y="20" class="code-text">name = input()</text>
      <text x="10" y="35" style="font: 400 10px Inter, sans-serif; fill: #6B7280;"># ユーザーの入力を待つ</text>
    </g>
    
    <!-- Arrow down -->
    <path d="M600 160 L600 180" class="arrow" marker-end="url(#arrow)"/>
    
    <!-- Processing (implied) -->
    <g transform="translate(470, 190)">
      <rect x="0" y="0" width="260" height="40" class="python-code"/>
      <text x="10" y="20" class="code-text"># 変数nameに自動保存</text>
      <text x="10" y="35" style="font: 400 10px Inter, sans-serif; fill: #6B7280;"># 追加処理は不要</text>
    </g>
    
    <!-- Arrow down -->
    <path d="M600 240 L600 260" class="arrow" marker-end="url(#arrow)"/>
    
    <!-- Output Code -->
    <g transform="translate(470, 270)">
      <rect x="0" y="0" width="260" height="40" class="python-code"/>
      <text x="10" y="20" class="code-text">print(f"こんにちは{name}")</text>
      <text x="10" y="35" style="font: 400 10px Inter, sans-serif; fill: #6B7280;"># 文字列フォーマット</text>
    </g>
    
    <!-- Code Example -->
    <g transform="translate(470, 320)">
      <rect x="0" y="0" width="260" height="20" rx="10" fill="#93C5FD"/>
      <text x="130" y="15" text-anchor="middle" style="font: 600 11px Inter, sans-serif; fill: #1E3A8A;">
        テキストベース・コード記述
      </text>
    </g>
  </g>
  
  <!-- Insight Section -->
  <g id="insights">
    <rect x="100" y="380" width="600" height="120" rx="12" class="insight-box"/>
    <text x="120" y="405" class="emoji">💡</text>
    <text x="150" y="405" class="insight-text" fill="#059669">本質は同じ：</text>
    
    <g transform="translate(120, 420)">
      <circle cx="8" cy="8" r="4" fill="#22C55E"/>
      <text x="20" y="12" class="comparison-text" fill="#166534">
        • 外部から情報を受け取る（入力）- どちらも同じ概念
      </text>
      
      <circle cx="8" cy="28" r="4" fill="#22C55E"/>
      <text x="20" y="32" class="comparison-text" fill="#166534">
        • 処理した結果を外部に伝える（出力）- 目的は同じ
      </text>
      
      <circle cx="8" cy="48" r="4" fill="#22C55E"/>
      <text x="20" y="52" class="comparison-text" fill="#166534">
        • プログラムと外界をつなぐ重要な窓口 - 役割は同じ
      </text>
      
      <rect x="350" y="-5" width="250" height="65" rx="8" fill="#DCFCE7" stroke="#22C55E" stroke-width="1"/>
      <text x="475" y="15" text-anchor="middle" class="insight-text" fill="#059669">
        違いは表現方法だけ！
      </text>
      <text x="365" y="35" style="font: 500 11px Inter, sans-serif; fill: #166534;">
        Scratch: ビジュアルブロック
      </text>
      <text x="365" y="50" style="font: 500 11px Inter, sans-serif; fill: #166534;">
        Python: テキストコード
      </text>
    </g>
  </g>
  
  <!-- Competitive Programming Note -->
  <g id="competitive-note">
    <rect x="150" y="520" width="500" height="50" rx="12" fill="#FEF2F2" stroke="#EF4444" stroke-width="2"/>
    <text x="170" y="540" class="emoji">⚠️</text>
    <text x="200" y="540" style="font: 600 14px Inter, sans-serif; fill: #DC2626;">
      でも競技プログラミングでは少し特殊な約束事があるんだ...
    </text>
    <text x="200" y="555" style="font: 500 12px Inter, sans-serif; fill: #991B1B;">
      次の図で詳しく見てみよう！
    </text>
  </g>
  
</svg>