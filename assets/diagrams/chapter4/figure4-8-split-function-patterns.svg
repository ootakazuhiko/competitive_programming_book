<svg viewBox="0 0 800 650" xmlns="http://www.w3.org/2000/svg">
  <title>図4-8：split()関数の動作パターン</title>
  <desc>split()関数の様々な使用パターンと動作を具体例で示す図</desc>
  
  <defs>
    <style>
      .title { font: 600 16px Inter, sans-serif; fill: #1F2937; }
      .section-title { font: 600 14px Inter, sans-serif; fill: #374151; }
      .code-text { font: 500 12px 'Monaco', 'Menlo', monospace; fill: #4B5563; }
      .result-text { font: 600 12px 'Monaco', 'Menlo', monospace; }
      .explanation-text { font: 500 11px Inter, sans-serif; fill: #6B7280; }
      .feature-text { font: 600 11px Inter, sans-serif; fill: #059669; }
      .emoji { font: 400 18px Inter, sans-serif; }
      
      .basic-section { fill: #DBEAFE; stroke: #3B82F6; stroke-width: 2; }
      .custom-section { fill: #FEF3C7; stroke: #F59E0B; stroke-width: 2; }
      .whitespace-section { fill: #ECFDF5; stroke: #22C55E; stroke-width: 2; }
      .feature-section { fill: #F3E8FF; stroke: #8B5CF6; stroke-width: 2; }
      .code-box { fill: #F8FAFC; stroke: #CBD5E0; stroke-width: 1; }
      .result-box { fill: #FFFFFF; stroke: #9CA3AF; stroke-width: 1; }
      .arrow { stroke: #10B981; stroke-width: 2; fill: none; }
    </style>
    
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L0,6 L10,3 z" fill="#10B981"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="650" fill="#FFFFFF"/>
  
  <!-- Title -->
  <text x="400" y="32" text-anchor="middle" class="title">図4-8：split()関数の動作パターン</text>
  
  <!-- Basic Usage Section -->
  <g id="basic-section">
    <rect x="50" y="60" width="700" height="100" rx="12" class="basic-section"/>
    <text x="70" y="85" class="emoji">🔤</text>
    <text x="100" y="85" class="section-title" fill="#1E40AF">基本的な使い方</text>
    
    <g transform="translate(70, 100)">
      <rect x="0" y="0" width="300" height="25" rx="6" class="code-box"/>
      <text x="10" y="17" class="code-text">text = "apple banana cherry"</text>
      
      <rect x="0" y="30" width="200" height="25" rx="6" class="code-box"/>
      <text x="10" y="47" class="code-text">words = text.split()</text>
      
      <path d="M220 42 L270 42" class="arrow" marker-end="url(#arrow)"/>
      
      <rect x="290" y="30" width="380" height="25" rx="6" class="result-box"/>
      <text x="300" y="47" class="result-text" fill="#3B82F6">['apple', 'banana', 'cherry']</text>
    </g>
  </g>
  
  <!-- Custom Separator Section -->
  <g id="custom-section">
    <rect x="50" y="180" width="700" height="100" rx="12" class="custom-section"/>
    <text x="70" y="205" class="emoji">📍</text>
    <text x="100" y="205" class="section-title" fill="#D97706">区切り文字を指定</text>
    
    <g transform="translate(70, 220)">
      <rect x="0" y="0" width="200" height="25" rx="6" class="code-box"/>
      <text x="10" y="17" class="code-text">text = "1,2,3,4,5"</text>
      
      <rect x="0" y="30" width="220" height="25" rx="6" class="code-box"/>
      <text x="10" y="47" class="code-text">numbers = text.split(',')</text>
      
      <path d="M240 42 L290 42" class="arrow" marker-end="url(#arrow)"/>
      
      <rect x="310" y="30" width="350" height="25" rx="6" class="result-box"/>
      <text x="320" y="47" class="result-text" fill="#F59E0B">['1', '2', '3', '4', '5']</text>
    </g>
  </g>
  
  <!-- Whitespace Handling Section -->
  <g id="whitespace-section">
    <rect x="50" y="300" width="700" height="120" rx="12" class="whitespace-section"/>
    <text x="70" y="325" class="emoji">🧹</text>
    <text x="100" y="325" class="section-title" fill="#059669">空白の処理</text>
    
    <g transform="translate(70, 340)">
      <rect x="0" y="0" width="250" height="25" rx="6" class="code-box"/>
      <text x="10" y="17" class="code-text">text = "  1   2    3  "</text>
      <text x="270" y="17" class="explanation-text">← 不規則な空白</text>
      
      <rect x="0" y="30" width="180" height="25" rx="6" class="code-box"/>
      <text x="10" y="47" class="code-text">parts = text.split()</text>
      
      <path d="M200 42 L250 42" class="arrow" marker-end="url(#arrow)"/>
      
      <rect x="270" y="30" width="200" height="25" rx="6" class="result-box"/>
      <text x="280" y="47" class="result-text" fill="#059669">['1', '2', '3']</text>
      
      <text x="0" y="75" class="explanation-text">連続空白も1つの区切りとして扱う</text>
    </g>
  </g>
  
  <!-- Features Section -->
  <g id="features-section">
    <rect x="50" y="440" width="700" height="170" rx="12" class="feature-section"/>
    <text x="70" y="465" class="emoji">💡</text>
    <text x="100" y="465" class="section-title" fill="#8B5CF6">重要な特徴</text>
    
    <g transform="translate(70, 485)">
      <!-- Feature 1 -->
      <circle cx="8" cy="8" r="4" fill="#22C55E"/>
      <text x="20" y="12" class="feature-text">split()は必ず文字列のリストを返す</text>
      
      <!-- Feature 2 -->
      <circle cx="8" cy="28" r="4" fill="#22C55E"/>
      <text x="20" y="32" class="feature-text">引数なしの場合、任意の空白文字で分割</text>
      
      <!-- Feature 3 -->
      <circle cx="8" cy="48" r="4" fill="#22C55E"/>
      <text x="20" y="52" class="feature-text">連続する空白は1つの区切りとして扱われる</text>
      
      <!-- Feature 4 -->
      <circle cx="8" cy="68" r="4" fill="#22C55E"/>
      <text x="20" y="72" class="feature-text">先頭・末尾の空白は自動で無視される</text>
      
      <!-- Comparison Box -->
      <rect x="380" y="-5" width="300" height="90" rx="8" fill="#FFFBEB" stroke="#F59E0B" stroke-width="1"/>
      <text x="390" y="15" class="explanation-text" style="font-weight: 600;">空白文字の種類：</text>
      <text x="390" y="30" class="explanation-text">• 半角スペース（' '）</text>
      <text x="390" y="45" class="explanation-text">• タブ文字（'\t'）</text>
      <text x="390" y="60" class="explanation-text">• 改行文字（'\n'）</text>
      <text x="390" y="75" class="explanation-text">すべて自動で区切り文字として認識</text>
    </g>
  </g>
  
  <!-- Competitive Programming Note -->
  <g id="competitive-note">
    <rect x="100" y="630" width="600" height="15" rx="8" fill="#F0F9FF" stroke="#0EA5E9" stroke-width="1"/>
    <text x="120" y="642" class="explanation-text" fill="#0C4A6E" style="font-size: 10px;">
      競技プログラミングでは、ほとんどの場合引数なしのsplit()を使う（空白区切りが標準的なため）
    </text>
  </g>
  
</svg>