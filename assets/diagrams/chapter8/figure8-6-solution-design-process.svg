<svg viewBox="0 0 800 700" xmlns="http://www.w3.org/2000/svg">
  <title>図8-6：解法設計の5段階プロセス</title>
  <desc>問題解決のための体系的な解法設計プロセス</desc>
  
  <!-- 背景 -->
  <rect width="800" height="700" fill="#f8fafc"/>
  
  <!-- タイトル -->
  <text x="400" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1f2937">
    解法設計の5段階プロセス
  </text>
  
  <!-- Stage 1: 問題の抽象化 -->
  <rect x="50" y="60" width="700" height="100" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="82" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">
    🎯 Stage 1: 問題の抽象化
  </text>
  <text x="80" y="98" font-family="Arial, sans-serif" font-size="10" fill="#3730a3">
    目的：問題を既知のパターンに分類する
  </text>
  
  <g transform="translate(80, 105)">
    <rect x="0" y="0" width="90" height="16" rx="8" fill="#3b82f6"/>
    <text x="45" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🔍 探索問題</text>
    
    <rect x="100" y="0" width="90" height="16" rx="8" fill="#10b981"/>
    <text x="145" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🔧 最適化問題</text>
    
    <rect x="200" y="0" width="90" height="16" rx="8" fill="#f59e0b"/>
    <text x="245" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🧮 数学問題</text>
    
    <rect x="300" y="0" width="90" height="16" rx="8" fill="#8b5cf6"/>
    <text x="345" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">📊 データ構造</text>
    
    <rect x="400" y="0" width="90" height="16" rx="8" fill="#ef4444"/>
    <text x="445" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🔤 文字列問題</text>
    
    <rect x="500" y="0" width="90" height="16" rx="8" fill="#06b6d4"/>
    <text x="545" y="11" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">🎮 シミュレーション</text>
    
    <text x="0" y="35" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      💡 完了条件：「この問題は○○問題で、○○で解ける」と明確に言えること
    </text>
  </g>
  
  <!-- Stage 2: 制約分析と計算量見積もり -->
  <rect x="50" y="180" width="700" height="100" rx="8" fill="#d1fae5" stroke="#22c55e" stroke-width="2"/>
  <text x="80" y="202" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#047857">
    📊 Stage 2: 制約分析と計算量見積もり
  </text>
  <text x="80" y="218" font-family="Arial, sans-serif" font-size="10" fill="#065f46">
    目的：使用可能なアルゴリズムを絞り込む
  </text>
  
  <g transform="translate(80, 225)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#047857">
      📊 制約と対応アルゴリズム：
    </text>
    <text x="0" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 10: あらゆるアルゴリズムが使用可能
    </text>
    <text x="250" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 20: O(2^N)の全探索も可能
    </text>
    <text x="0" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 100: O(N^3)まで
    </text>
    <text x="250" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 1,000: O(N^2)まで
    </text>
    <text x="450" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 100,000: O(N log N)まで
    </text>
    <text x="450" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • N ≤ 1,000,000: O(N)まで
    </text>
    
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="8" fill="#047857">
      💡 完了条件：制約に対して十分高速なアルゴリズムを特定
    </text>
  </g>
  
  <!-- Stage 3: データ構造の選択 -->
  <rect x="50" y="300" width="700" height="100" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="80" y="322" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#d97706">
    🗂️ Stage 3: データ構造の選択
  </text>
  <text x="80" y="338" font-family="Arial, sans-serif" font-size="10" fill="#92400e">
    目的：効率的なデータ表現方法を決定
  </text>
  
  <g transform="translate(80, 345)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#d97706">
      📚 よく使われる組み合わせ：
    </text>
    <text x="0" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • カウント問題 → 辞書（Counter）
    </text>
    <text x="200" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 順序付きデータ → リスト
    </text>
    <text x="350" y="28" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 重複除去 → 集合（set）
    </text>
    <text x="0" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 高速検索 → 辞書・集合
    </text>
    <text x="200" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • キュー・スタック → deque
    </text>
    <text x="350" y="40" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • グラフ → 隣接リスト
    </text>
    
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="8" fill="#d97706">
      💡 完了条件：各データに対して最適な構造が決定済み
    </text>
  </g>
  
  <!-- Stage 4: 疑似コード作成 -->
  <rect x="50" y="420" width="700" height="100" rx="8" fill="#ede9fe" stroke="#8b5cf6" stroke-width="2"/>
  <text x="80" y="442" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7c3aed">
    📝 Stage 4: 疑似コード作成
  </text>
  <text x="80" y="458" font-family="Arial, sans-serif" font-size="10" fill="#6b21a8">
    目的：実装前に処理手順を明確化
  </text>
  
  <g transform="translate(80, 465)">
    <rect x="0" y="0" width="300" height="45" rx="4" fill="#f3e8ff" stroke="#a855f7" stroke-width="1"/>
    <text x="5" y="12" font-family="Arial, sans-serif" font-size="8" font-weight="bold" fill="#7c3aed">
      💡 疑似コード例：
    </text>
    <text x="5" y="24" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      1. 入力を受け取る → 2. データを変換
    </text>
    <text x="5" y="34" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      3. for each 要素: 条件チェック → 結果更新
    </text>
    <text x="5" y="44" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      4. 最終結果を出力
    </text>
    
    <text x="320" y="15" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#7c3aed">
      ✅ 疑似コードの利点：
    </text>
    <text x="320" y="27" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 実装ミスを減らす • 複雑な処理を整理
    </text>
    <text x="320" y="37" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • レビューしやすい • 実装中の道しるべ
    </text>
    
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="8" fill="#7c3aed">
      💡 完了条件：処理手順が明確で、実装に迷いがない状態
    </text>
  </g>
  
  <!-- Stage 5: 実装とテスト戦略 -->
  <rect x="50" y="540" width="700" height="100" rx="8" fill="#fecaca" stroke="#ef4444" stroke-width="2"/>
  <text x="80" y="562" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#dc2626">
    🔧 Stage 5: 実装とテスト戦略
  </text>
  <text x="80" y="578" font-family="Arial, sans-serif" font-size="10" fill="#b91c1c">
    目的：バグの少ない実装を効率的に作成
  </text>
  
  <g transform="translate(80, 585)">
    <text x="0" y="15" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">
      ⌨️ 実装戦略：
    </text>
    <text x="0" y="27" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 入出力処理から書く • 主要ロジックを小関数に分割
    </text>
    <text x="0" y="37" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • print文でデバッグ • 一部分ずつ動作確認
    </text>
    
    <text x="350" y="15" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#dc2626">
      🧪 テスト戦略：
    </text>
    <text x="350" y="27" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • サンプルケース最優先 • エッジケーステスト
    </text>
    <text x="350" y="37" font-family="Arial, sans-serif" font-size="8" fill="#1f2937">
      • 自作テストケース • 手動計算照合
    </text>
    
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="8" fill="#dc2626">
      💡 完了条件：サンプルケースがすべて通り、提出準備完了
    </text>
  </g>
  
  <!-- フロー矢印 -->
  <path d="M400 160 L400 180" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 280 L400 300" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 400 L400 420" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 520 L400 540" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- 成功への道筋 -->
  <rect x="50" y="660" width="700" height="30" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="400" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#16a34a">
    🎯 この5段階で、どんな複雑な問題でも体系的に解法を設計できる
  </text>
  
  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
</svg>