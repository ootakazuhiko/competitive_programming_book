<svg viewBox="0 0 800 750" xmlns="http://www.w3.org/2000/svg">
  <title>図5-22：この章で身につけたアルゴリズム道具箱</title>
  <desc>第5章で学習した6つの基本アルゴリズム（全探索、条件分岐、数学活用、文字列処理、ソート、貪欲法）の総まとめと使い分け指針を示す図</desc>
  
  <defs>
    <style>
      .title { font: 600 16px Inter, sans-serif; fill: #1F2937; }
      .section-title { font: 600 14px Inter, sans-serif; fill: #374151; }
      .tool-title { font: 600 13px Inter, sans-serif; }
      .tool-description { font: 500 11px Inter, sans-serif; }
      .guideline-text { font: 600 11px Inter, sans-serif; fill: #7C3AED; }
      .step-text { font: 500 11px Inter, sans-serif; fill: #059669; }
      .explanation-text { font: 400 10px Inter, sans-serif; fill: #6B7280; }
      .emoji { font: 400 16px Inter, sans-serif; }
      
      .toolbox-box { fill: #DCFCE7; stroke: #22C55E; stroke-width: 2; }
      .guidelines-box { fill: #DBEAFE; stroke: #3B82F6; stroke-width: 2; }
      .nextsteps-box { fill: #F3E8FF; stroke: #7C3AED; stroke-width: 2; }
      .tool-brute { fill: #FEE2E2; stroke: #EF4444; stroke-width: 2; }
      .tool-condition { fill: #FEF3C7; stroke: #F59E0B; stroke-width: 2; }
      .tool-math { fill: #DBEAFE; stroke: #3B82F6; stroke-width: 2; }
      .tool-string { fill: #F3E8FF; stroke: #7C3AED; stroke-width: 2; }
      .tool-sort { fill: #DCFCE7; stroke: #22C55E; stroke-width: 2; }
      .tool-greedy { fill: #FDF2F8; stroke: #EC4899; stroke-width: 2; }
    </style>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="750" fill="#FFFFFF"/>
  
  <!-- Title -->
  <text x="400" y="32" text-anchor="middle" class="title">図5-22：この章で身につけたアルゴリズム道具箱</text>
  
  <!-- Toolbox -->
  <g id="toolbox">
    <rect x="50" y="60" width="700" height="280" rx="8" class="toolbox-box"/>
    <text x="70" y="85" class="emoji">🔧</text>
    <text x="100" y="85" class="section-title" fill="#059669">習得したアルゴリズム</text>
    
    <!-- Tool 1: Brute Force -->
    <g transform="translate(80, 105)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-brute"/>
      <text x="10" y="20" class="emoji">🔍</text>
      <text x="35" y="20" class="tool-title" fill="#DC2626">全探索</text>
      <text x="10" y="35" class="tool-description" fill="#7F1D1D">確実だが時間のかかる万能手法</text>
      <text x="10" y="50" class="explanation-text">• しらみつぶしに全てチェック</text>
      <text x="10" y="65" class="explanation-text">• 計算量が許す範囲で最も確実</text>
    </g>
    
    <!-- Tool 2: Conditional -->
    <g transform="translate(300, 105)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-condition"/>
      <text x="10" y="20" class="emoji">🔀</text>
      <text x="35" y="20" class="tool-title" fill="#D97706">条件分岐</text>
      <text x="10" y="35" class="tool-description" fill="#92400E">複雑な場合分けの整理術</text>
      <text x="10" y="50" class="explanation-text">• 論理演算子を効果的に活用</text>
      <text x="10" y="65" class="explanation-text">• 段階的な条件分岐で整理</text>
    </g>
    
    <!-- Tool 3: Math -->
    <g transform="translate(520, 105)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-math"/>
      <text x="10" y="20" class="emoji">🧮</text>
      <text x="35" y="20" class="tool-title" fill="#1E40AF">数学活用</text>
      <text x="10" y="35" class="tool-description" fill="#1E3A8A">GCD、素数判定、組み合わせ計算</text>
      <text x="10" y="50" class="explanation-text">• 数学的性質で計算量削減</text>
      <text x="10" y="65" class="explanation-text">• 公式・定理の適用</text>
    </g>
    
    <!-- Tool 4: String -->
    <g transform="translate(80, 190)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-string"/>
      <text x="10" y="20" class="emoji">📝</text>
      <text x="35" y="20" class="tool-title" fill="#7C3AED">文字列処理</text>
      <text x="10" y="35" class="tool-description" fill="#6B21A8">検索、置換、パターンマッチング</text>
      <text x="10" y="50" class="explanation-text">• 文字カウント、回文判定</text>
      <text x="10" y="65" class="explanation-text">• 分割・結合の活用</text>
    </g>
    
    <!-- Tool 5: Sort -->
    <g transform="translate(300, 190)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-sort"/>
      <text x="10" y="20" class="emoji">📊</text>
      <text x="35" y="20" class="tool-title" fill="#059669">ソート</text>
      <text x="10" y="35" class="tool-description" fill="#065F46">並び替えによる問題の簡単化</text>
      <text x="10" y="50" class="explanation-text">• 中央値、最小差分ペア</text>
      <text x="10" y="65" class="explanation-text">• 重複除去、順序関係</text>
    </g>
    
    <!-- Tool 6: Greedy -->
    <g transform="translate(520, 190)">
      <rect x="0" y="0" width="200" height="70" rx="6" class="tool-greedy"/>
      <text x="10" y="20" class="emoji">🎯</text>
      <text x="35" y="20" class="tool-title" fill="#BE185D">貪欲法</text>
      <text x="10" y="35" class="tool-description" fill="#9F1239">局所最適による全体最適化</text>
      <text x="10" y="50" class="explanation-text">• コイン問題、区間スケジュール</text>
      <text x="10" y="65" class="explanation-text">• 最適性の証明が重要</text>
    </g>
    
    <!-- Key message -->
    <g transform="translate(80, 275)">
      <rect x="0" y="0" width="640" height="50" fill="#E0F2FE" stroke="#0369A1" stroke-width="1"/>
      <text x="320" y="20" text-anchor="middle" class="section-title" fill="#0369A1">大工さんが複数の道具を組み合わせて家を建てるように、</text>
      <text x="320" y="35" text-anchor="middle" class="section-title" fill="#0369A1">プログラマーも複数のアルゴリズムを組み合わせて問題を解決する</text>
    </g>
  </g>
  
  <!-- Guidelines -->
  <g id="guidelines">
    <rect x="50" y="360" width="700" height="160" rx="8" class="guidelines-box"/>
    <text x="70" y="385" class="emoji">🎯</text>
    <text x="100" y="385" class="section-title" fill="#1E40AF">使い分けの指針</text>
    
    <g transform="translate(80, 405)">
      <text x="0" y="15" class="guideline-text">• 計算量が許す範囲なら全探索が最も確実</text>
      <text x="0" y="35" class="guideline-text">• 数学的性質がある場合は公式・定理を活用</text>
      <text x="0" y="55" class="guideline-text">• データに順序がある場合はソートを検討</text>
      <text x="0" y="75" class="guideline-text">• 局所最適＝全体最適が保証される場合は貪欲法</text>
      
      <!-- Decision process -->
      <g transform="translate(350, 0)">
        <rect x="0" y="0" width="320" height="100" fill="#E0F2FE" stroke="#0369A1" stroke-width="1"/>
        <text x="10" y="15" class="step-text">問題を見た時の判断手順：</text>
        <text x="10" y="30" class="step-text">1. まず全探索で解けないか？</text>
        <text x="10" y="45" class="step-text">2. 数学的な性質はないか？</text>
        <text x="10" y="60" class="step-text">3. ソートしたら簡単になるか？</text>
        <text x="10" y="75" class="step-text">4. 貪欲に選択して大丈夫か？</text>
        <text x="10" y="90" class="explanation-text">→ 計算量を見積もって適切な手法を選択</text>
      </g>
    </g>
  </g>
  
  <!-- Next Steps -->
  <g id="next-steps">
    <rect x="50" y="540" width="700" height="180" rx="8" class="nextsteps-box"/>
    <text x="70" y="565" class="emoji">🚀</text>
    <text x="100" y="565" class="section-title" fill="#7C3AED">次のステップ</text>
    
    <g transform="translate(80, 585)">
      <rect x="0" y="0" width="640" height="50" fill="#FAF5FF" stroke="#7C3AED" stroke-width="1"/>
      <text x="10" y="18" class="tool-title" fill="#7C3AED">第6章: データ構造を理解して活用しよう</text>
      <text x="10" y="33" class="explanation-text">• より効率的なデータ管理手法の習得　• リスト、辞書、集合の応用技法</text>
      <text x="10" y="48" class="explanation-text">• アルゴリズムとデータ構造の組み合わせ</text>
    </g>
    
    <g transform="translate(80, 650)">
      <rect x="0" y="0" width="640" height="55" fill="#E0F2FE" stroke="#0369A1" stroke-width="1"/>
      <text x="10" y="18" class="guideline-text">重要なのは「どの道具をいつ使うか」を判断する力</text>
      <text x="10" y="33" class="explanation-text">この判断力は、実際に多くの問題を解くことで身についてくる</text>
      <text x="10" y="48" class="explanation-text">適切なデータ構造を選ぶことで、同じアルゴリズムでも劇的に高速化できる！</text>
    </g>
  </g>
  
</svg>