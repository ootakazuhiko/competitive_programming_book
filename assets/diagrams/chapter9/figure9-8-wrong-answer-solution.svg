<svg viewBox="0 0 800 650" xmlns="http://www.w3.org/2000/svg">
  <title>図9-8：Wrong Answer の体系的対処法</title>
  <desc>Wrong Answerエラーを効率的に解決するための段階的アプローチ</desc>
  
  <!-- 背景 -->
  <rect width="800" height="650" fill="#f8fafc"/>
  
  <!-- タイトル -->
  <text x="400" y="32" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#1f2937">
    Wrong Answer の体系的対処法
  </text>
  
  <!-- WA分析手順の見出し -->
  <rect x="50" y="60" width="700" height="40" rx="8" fill="#fef2f2" stroke="#ef4444" stroke-width="2"/>
  <text x="400" y="82" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#dc2626">
    ❌ Wrong Answer（WA）が出た時の分析手順
  </text>
  
  <!-- Step 1: 出力形式の厳密確認 -->
  <rect x="50" y="120" width="700" height="140" rx="8" fill="#dbeafe" stroke="#3b82f6" stroke-width="2"/>
  <text x="80" y="142" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e40af">
    🔍 Step 1: 出力形式の厳密確認
  </text>
  <text x="80" y="158" font-family="Arial, sans-serif" font-size="10" fill="#3730a3">
    AtCoderでよくある出力形式ミス
  </text>
  
  <g transform="translate(80, 165)">
    <rect x="0" y="0" width="150" height="80" rx="4" fill="#f0f9ff" stroke="#3b82f6" stroke-width="1"/>
    <text x="75" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1e40af">
      ❌ よくある間違い
    </text>
    <text x="5" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 余分な改行・空白
    </text>
    <text x="5" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 区切り文字の間違い
    </text>
    <text x="5" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 大文字小文字の間違い
    </text>
    <text x="5" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 数値の桁数・精度
    </text>
    <text x="5" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 出力順序の間違い
    </text>
    
    <rect x="170" y="0" width="250" height="80" rx="4" fill="#f0f9ff" stroke="#3b82f6" stroke-width="1"/>
    <text x="295" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1e40af">
      📝 具体例
    </text>
    <text x="175" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print("yes") → 要求は"Yes"
    </text>
    <text x="175" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print(a,b,c,sep=',') → 要求は空白区切り
    </text>
    <text x="175" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print("答え"); print() → 余分な改行
    </text>
    <text x="175" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print(3.14) → 要求は整数
    </text>
    <text x="175" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      順序: [c,a,b] → 要求は[a,b,c]
    </text>
    
    <rect x="440" y="0" width="200" height="80" rx="4" fill="#f0f9ff" stroke="#3b82f6" stroke-width="1"/>
    <text x="540" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#1e40af">
      ✅ 対策
    </text>
    <text x="445" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 問題文の出力例を文字単位で確認
    </text>
    <text x="445" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • print()の引数を慎重にチェック
    </text>
    <text x="445" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • サンプル出力との完全一致確認
    </text>
    <text x="445" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 目視とdiffツールによる比較
    </text>
    <text x="445" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 改行・空白・大小文字を重点確認
    </text>
  </g>
  
  <!-- Step 2: 計算ロジックの段階的検証 -->
  <rect x="50" y="280" width="700" height="140" rx="8" fill="#d1fae5" stroke="#22c55e" stroke-width="2"/>
  <text x="80" y="302" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#047857">
    🔍 Step 2: 計算ロジックの段階的検証
  </text>
  <text x="80" y="318" font-family="Arial, sans-serif" font-size="10" fill="#065f46">
    デバッグ出力による検証手順
  </text>
  
  <g transform="translate(80, 325)">
    <rect x="0" y="0" width="300" height="80" rx="4" fill="#f0fdf4" stroke="#22c55e" stroke-width="1"/>
    <text x="150" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#047857">
      💻 デバッグコード例
    </text>
    <text x="5" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      import sys</text>
    <text x="5" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print(f"Debug: n={n}", file=sys.stderr)
    </text>
    <text x="5" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print(f"Debug: arr={arr}", file=sys.stderr)
    </text>
    <text x="5" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      result = calculation(arr)
    </text>
    <text x="5" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      print(f"Debug: result={result}", file=sys.stderr)
    </text>
    
    <rect x="320" y="0" width="320" height="80" rx="4" fill="#f0fdf4" stroke="#22c55e" stroke-width="1"/>
    <text x="480" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#047857">
      🔧 検証のポイント
    </text>
    <text x="325" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      ✅ 入力が正しく読み込めているか
    </text>
    <text x="325" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      ✅ 中間計算の値が期待通りか
    </text>
    <text x="325" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      ✅ 最終結果が理論値と一致するか
    </text>
    <text x="325" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      ⚠️ sys.stderrはジャッジに影響しない
    </text>
    <text x="325" y="68" font-family="Arial, sans-serif" font-size="7" fill="#dc2626">
      ⚠️ 提出前にデバッグ文をすべて削除
    </text>
  </g>
  
  <!-- Step 3: エッジケースの網羅的確認 -->
  <rect x="50" y="440" width="700" height="140" rx="8" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
  <text x="80" y="462" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#d97706">
    🔍 Step 3: エッジケースの網羅的確認
  </text>
  <text x="80" y="478" font-family="Arial, sans-serif" font-size="10" fill="#92400e">
    チェックすべきエッジケース
  </text>
  
  <g transform="translate(80, 485)">
    <rect x="0" y="0" width="150" height="80" rx="4" fill="#fefce8" stroke="#f59e0b" stroke-width="1"/>
    <text x="75" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#d97706">
      🎯 サイズ関連
    </text>
    <text x="5" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • N=1（最小ケース）
    </text>
    <text x="5" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • N=制約上限
    </text>
    <text x="5" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 空集合・単一要素
    </text>
    <text x="5" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 計算量チェック
    </text>
    <text x="5" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • メモリ使用量確認
    </text>
    
    <rect x="170" y="0" width="150" height="80" rx="4" fill="#fefce8" stroke="#f59e0b" stroke-width="1"/>
    <text x="245" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#d97706">
      🎯 値関連
    </text>
    <text x="175" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 全要素が同じ値
    </text>
    <text x="175" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 最小値・最大値が境界
    </text>
    <text x="175" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 負数・ゼロの扱い
    </text>
    <text x="175" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • オーバーフロー
    </text>
    <text x="175" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 精度問題（浮動小数点）
    </text>
    
    <rect x="340" y="0" width="150" height="80" rx="4" fill="#fefce8" stroke="#f59e0b" stroke-width="1"/>
    <text x="415" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#d97706">
      🎯 構造関連
    </text>
    <text x="345" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • ソート済み・逆順データ
    </text>
    <text x="345" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 重複要素の存在
    </text>
    <text x="345" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 特殊パターン
    </text>
    <text x="345" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • 循環・対称構造
    </text>
    <text x="345" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      • グラフの連結性
    </text>
    
    <rect x="510" y="0" width="130" height="80" rx="4" fill="#fefce8" stroke="#f59e0b" stroke-width="1"/>
    <text x="575" y="16" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" font-weight="bold" fill="#d97706">
      📝 テストケース
    </text>
    <text x="515" y="28" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      # 最小: 1, [5]
    </text>
    <text x="515" y="38" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      # 重複: 3, [2,2,2]
    </text>
    <text x="515" y="48" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      # 境界: [10^9,10^9]
    </text>
    <text x="515" y="58" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      # 負数: [-1,0,1]
    </text>
    <text x="515" y="68" font-family="Arial, sans-serif" font-size="7" fill="#1f2937">
      # 逆順: [5,4,3,2,1]
    </text>
  </g>
  
  <!-- フロー矢印 -->
  <path d="M400 260 L400 280" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400 420 L400 440" stroke="#374151" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
    
  <!-- 成功への道筋 -->
  <rect x="50" y="600" width="700" height="40" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="2"/>
  <text x="400" y="618" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#16a34a">
    🎯 WA解決の成功パターン
  </text>
  <text x="400" y="634" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#16a34a">
    出力形式確認 → デバッグ出力で検証 → エッジケーステスト = 確実なAC
  </text>
  
  <!-- 矢印マーカー定義 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#374151"/>
    </marker>
  </defs>
</svg>