# 第4章：入出力処理を完全マスター

## 章の学習目標

この章を読み終わることで、以下ができるようになります：
- 競技プログラミングでの入出力の特殊性を理解できる
- 様々な形式のデータを正確に読み込めるようになる
- 問題の要求に応じた適切な出力ができるようになる
- 入出力処理でよくあるエラーを回避できるようになる

競技プログラミングにおいて、入出力処理は最も基本的でありながら、最も重要な技術だ。どんなに素晴らしいアルゴリズムを思いついても、データを正しく読み込めなければ、正解にはたどり着けない。この章で、確実で効率的な入出力処理をマスターしよう。

## 4.1 入力って何？出力って何？

### Scratchとの対比による理解

```
【図4-1：ScratchとPythonの入出力対比】

🎮 Scratchでの入出力        💻 Pythonでの入出力
┌─────────────────┐      ┌─────────────────┐
│ 👤「名前は？」と聞く     │      │ name = input()      │
│ 📝 答えを変数に保存     │  ⟷   │ # ユーザーの入力を待つ │
│ 💬「こんにちは○○」と言う │      │ print(f"こんにちは{name}")│
└─────────────────┘      └─────────────────┘

💡 本質は同じ：
• 外部から情報を受け取る（入力）
• 処理した結果を外部に伝える（出力）

でも競技プログラミングでは少し特殊な約束事があるんだ...
```

### 競技プログラミングでの入出力の特殊性

一般的なプログラムと競技プログラミングでは、入出力の方式が大きく異なる：

```
【図4-2：一般プログラムと競技プログラムの入出力の違い】

🖥️ 一般的なプログラム      🏆 競技プログラミング
┌─────────────────┐      ┌─────────────────┐
│ ユーザーとの対話形式    │      │ 一方通行の処理      │
│「名前は？」→入力        │      │ 問題文で形式決定    │
│「年齢は？」→入力        │  VS  │ 標準入力→計算→標準出力│
│ エラー時は再入力要求    │      │ 1回で正確に処理     │
│ ユーザビリティ重視     │      │ 効率と正確性重視    │
│ 見た目の美しさも重要    │      │ 結果の正確性のみ重要 │
└─────────────────┘      └─────────────────┘

🔍 競技プログラミングの入出力ルール：
✅ 問題文で入力形式が完全に指定される
✅ 出力形式も厳密に指定される（改行、スペースまで）
✅ エラーハンドリングは不要（入力は必ず正しい形式）
✅ 対話的な処理は基本的になし
✅ 速度と正確性が最優先
```

### 標準入力・標準出力の概念

```
【図4-3：標準入力・標準出力のデータフロー】

┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  標準入力    │ →  │  あなたの    │ →  │  標準出力    │
│ (Standard   │    │ プログラム   │    │ (Standard   │
│  Input)     │    │             │    │  Output)    │
└─────────────┘    └─────────────┘    └─────────────┘
       ↑                                       ↓
問題文で指定された                        問題文で指定された
入力データ                              期待される出力
┌─────────────┐                        ┌─────────────┐
│ 5            │                        │ 15          │
│ 1 2 3 4 5    │                        │             │
└─────────────┘                        └─────────────┘

💡 重要な概念：
• プログラムは入力を「待つ」状態になる
• input()関数が呼ばれるまで次の行に進まない
• 入力は必ず文字列として受け取られる
• 数値として使いたい場合はint()で変換が必要
```

AtCoderでは、この標準入力・標準出力を使って、自動的にプログラムをテストしている。君のプログラムに問題文の入力例を与えて、期待される出力例と一致するかをチェックしているんだ。

## 4.2 1つの数字を読み込もう

### 基本パターンの完全理解

最もシンプルな入力処理から始めよう。1つの整数を読み込む処理だ。

![図4-4：単一数値入力の内部処理フロー]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-4-single-numeric-input-flow.svg)

### なぜint()が必要なのか

この点は初心者がよく混乱するところだ。詳しく説明しよう：

![図4-5：文字列と数値の違いによる動作の差]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-5-string-vs-numeric-behavior.svg)

### 小数を読み込む場合

整数だけでなく、小数（浮動小数点数）を読み込む場合もある：

![図4-6：浮動小数点数の入力処理]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-6-floating-point-input.svg)

## 4.3 複数の数字を読み込もう

### split()とmap()の組み合わせの理解

複数の数値が1行に書かれている場合の処理は、競技プログラミングで最もよく使うパターンだ。

![図4-7：複数数値入力の段階的処理]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-7-multiple-numeric-input-processing.svg)

### split()関数の詳細

![図4-8：split()関数の動作パターン]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-8-split-function-patterns.svg)

### map()関数の理解

![図4-9：map()関数による一括変換]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-9-map-function-conversion.svg)

### 実践的な使い分け

![図4-10：複数入力の使い分けガイド]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-10-multiple-input-usage-guide.svg)

## 4.4 繰り返し入力を処理しよう

### N行入力の標準パターン

競技プログラミングでは「N個のデータが1行ずつ与えられる」というパターンが非常に多い。

![図4-11：N行入力処理の基本形]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-11-n-line-input-processing.svg)

### リスト内包表記による効率化

Pythonには、より簡潔に書ける「リスト内包表記」という機能がある：

![図4-12：リスト内包表記の活用]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-12-list-comprehension-usage.svg)

### 複数行・複数列データの処理

![図4-13：2次元データの読み込みパターン]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-13-2d-data-reading-patterns.svg)

## 4.5 文字列入力を扱おう

### 文字列処理の基本パターン

数値だけでなく、文字列を扱う問題も多い。文字列の場合は`int()`変換は不要だ。

![図4-14：文字列入力の処理方法]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-14-string-input-processing.svg)

### 文字列と数値の混在入力

![図4-15：混在データの処理パターン]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-15-mixed-data-processing.svg)

### 文字列操作の実践例

![図4-16：競技プログラミングでよく使う文字列操作]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-16-common-string-operations.svg)

## 4.6 出力フォーマットをマスターしよう

### print()関数の詳細オプション

出力処理も入力と同じくらい重要だ。AtCoderでは出力形式が厳密に指定されるため、正確な出力が必要だ。

![図4-17：print()関数の完全活用]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-17-print-function-complete-usage.svg)

### 問題別出力パターン

![図4-18：競技プログラミングでよくある出力パターン]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-18-common-output-patterns.svg)

### 出力でよくあるミス

![図4-19：出力の典型的な間違いパターン]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-19-common-output-errors.svg)

## まとめ：入出力処理の完全マスター達成！

この章では、競技プログラミングにおける入出力処理のすべてを学んだ。

![図4-20：この章で身につけたスキル]({{ site.baseurl }}/assets/diagrams/chapter4/figure4-20-skills-acquired.svg)

入出力処理は、競技プログラミングにおける「基礎の基礎」だ。どんなに高度なアルゴリズムを知っていても、データを正しく読み込み、正確に出力できなければ、正解にはたどり着けない。

この章で学んだ技術は、今後のすべての問題で使うことになる。特に以下のパターンは頻繁に使うので、しっかりと覚えておこう：

- `n = int(input())` - 単一整数の読み込み
- `a, b = map(int, input().split())` - 複数整数の読み込み
- `numbers = [int(input()) for _ in range(n)]` - N行の整数読み込み
- `print(*list)` - リストの要素をスペース区切りで出力

次の章では、いよいよアルゴリズムの世界に足を踏み入れよう。問題を効率的に解くための「道具箱」を手に入れることで、君の競技プログラミングスキルは大きく飛躍するはずだ！